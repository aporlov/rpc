
# Методы API rpc

* [func_args](#func_args) - Описание аргументов процедуры
* [func_result](#func_result) - Описание результата процедуры
* [index](#index) - Список описаний процедур

## func_args

Описание аргументов процедуры

**Кэш**: до рестарта

### Аргументы

Имя | Тип | По умолчанию | Обязателен | Описание
----|-----|--------------|------------|---------
a_code | text | | true | Имя процедуры

### Результат

Имя | Тип | Описание
----|-----|---------
arg | text | Имя аргумента
type | text | Тип аргумента
required | boolean | Значение обязательно
def_val | text | Значение по умолчанию
anno | text | Описание

### Пример вызова

```
H=http://localhost:8081/rpc
Q='{"a_code": "func_args"}'
curl -gsd "$Q" -H "Content-type: application/json" $H/func_args | jq '.[0:2]'
```
```json
[
  {
    "anno": "Имя процедуры",
    "arg": "a_code",
    "def_val": null,
    "required": true,
    "type": "text"
  }
]
```


## func_result

Описание результата процедуры

**Кэш**: до рестарта

### Аргументы

Имя | Тип | По умолчанию | Обязателен | Описание
----|-----|--------------|------------|---------
a_code | text | | true | Имя процедуры

### Результат

Имя | Тип | Описание
----|-----|---------
arg | text | Имя аргумента
type | text | Тип аргумента
anno | text | Описание

### Пример вызова

```
H=http://localhost:8081/rpc
Q='{"a_code": "func_args"}'
curl -gsd "$Q" -H "Content-type: application/json" $H/func_result | jq '.[0:2]'
```
```json
[
  {
    "anno": null,
    "arg": null,
    "type": "TABLE"
  },
  {
    "anno": "Имя аргумента",
    "arg": "arg",
    "type": "text"
  }
]
```


## index

Список описаний процедур

**Кэш**: до рестарта

### Аргументы

Имя | Тип | По умолчанию | Обязателен | Описание
----|-----|--------------|------------|---------
a_nsp | text | | false | Схема БД

### Результат

Имя | Тип | Описание
----|-----|---------
code | text | Имя процедуры
nspname | text | Имя схемы хранимой функции
proname | text | Имя хранимой функции
max_age | integer | Время хранения в кэше(сек)
anno | text | Описание
sample | text | Пример вызова
is_ro | boolean | Метод Read-only

### Пример вызова

```
H=http://localhost:8081/rpc
Q='{}'
curl -gsd "$Q" -H "Content-type: application/json" $H/index | jq '.[0:2]'
```
```json
[
  {
    "anno": "Профиль учетной записи",
    "code": "account_profile",
    "is_ro": true,
    "max_age": 5,
    "nspname": "auth",
    "proname": "account_profile",
    "sample": "{\"a_id\":2}"
  },
  {
    "anno": "Изменить профиль учетной записи",
    "code": "account_profile_set",
    "is_ro": false,
    "max_age": 5,
    "nspname": "auth",
    "proname": "account_profile_set",
    "sample": "{\"a_password\":\"see_config\"}"
  }
]
```


---

Generated by [doc_gen.sh](https://github.com/LeKovr/apitools/blob/master/doc_gen.sh)

Sun, 24 Sep 2017 20:17:10 +0300
